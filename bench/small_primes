#!/usr/bin/perl -w

use strict;
#use Math::GSL::RNG;
use Math::Pari qw/isprime/;
use Math::Primality qw/is_prime/;
use Data::Dumper;
use Benchmark qw/:all/;
my $count = shift || 5000;

#my $rng = Math::GSL::RNG->new;
#my @small_nums = map { $_ % 1000 } $rng->get(100);

my @small_nums = map { int(rand() * 1000000) } (1..100);

print "Benchmarking Math::Primality version $Math::Primality::VERSION\n";

cmpthese($count,{
    'is_prime' => sub { is_prime($_) for @small_nums },
    'isprime' => sub { isprime($_) for @small_nums },
});
